/*! For license information please see feathersjs-offline-client.min.js.LICENSE.txt */
var feathersjsOfflineClient;feathersjsOfflineClient=(()=>{var e={871:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATORS=t.FILTERS=void 0;var o=r(410),i=r(743);function a(e){if(void 0!==e)return Math.abs(parseInt(e,10))}function u(e,t,r){if(Array.isArray(e))return e.map((function(e){return u(e,t,r)}));if(o._.isObject(e)&&e.constructor==={}.constructor){var n={};return o._.each(e,(function(o,a){if("$"===a[0]){if(void 0!==r[a])return;if(!t.includes(a))throw new i.BadRequest("Invalid query parameter ".concat(a),e)}n[a]=u(o,t,r)})),Object.getOwnPropertySymbols(e).forEach((function(t){n[t]=e[t]})),n}return e}function s(e,t,r,n){return Array.isArray(r)?o._.each(r,(function(r){void 0!==t[r]&&(e[r]=t[r])})):o._.each(r,(function(r,o){var i=r(t[o],n);void 0!==i&&(e[o]=i)})),e}function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.filters,o=void 0===n?{}:n,i=r.operators,a=void 0===i?[]:i,c={};return c.filters=s({},e,t.FILTERS,r),c.filters=s(c.filters,e,o,r),c.query=u(e,t.OPERATORS.concat(a),c.filters),c}t.FILTERS={$sort:function(e){return"object"!==n(t=e)||Array.isArray(t)?t:Object.keys(t).reduce((function(e,r){return e[r]="object"===n(t[r])?t[r]:parseInt(t[r],10),e}),{});var t},$limit:function(e,t){return function(e,t){if(t&&t.default){var r="number"!=typeof e||isNaN(e)?t.default:e,n="number"==typeof t.max?t.max:Number.MAX_VALUE;return Math.min(r,n)}return e}(a(e),t.paginate)},$skip:function(e){return a(e)},$select:function(e){return e}},t.OPERATORS=["$in","$nin","$lt","$lte","$gt","$gte","$ne","$or"],t.default=c,e.exports=Object.assign(c,e.exports)},597:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.select=t.OPERATORS=t.FILTERS=t.filterQuery=t.AdapterService=void 0;var s=r(410),c=r(430);Object.defineProperty(t,"AdapterService",{enumerable:!0,get:function(){return c.AdapterService}});var f=r(871);Object.defineProperty(t,"filterQuery",{enumerable:!0,get:function(){return u(f).default}}),Object.defineProperty(t,"FILTERS",{enumerable:!0,get:function(){return f.FILTERS}}),Object.defineProperty(t,"OPERATORS",{enumerable:!0,get:function(){return f.OPERATORS}}),a(r(385),t),t.select=function(e){for(var t=e&&e.query&&e.query.$select,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Array.isArray(t)&&o.length&&t.push.apply(t,o);var a=function(e){var r;return Array.isArray(t)?(r=s._).pick.apply(r,[e].concat(n(t))):e};return function(e){return Array.isArray(e)?e.map(a):a(e)}}},430:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdapterService=void 0;var i=r(743),a=o(r(871)),u=function(e,t){if("function"!=typeof e[t])return Promise.reject(new i.NotImplemented("Method ".concat(t," not available")));for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e[t].apply(e,n)},s={find:!0,get:!1,update:!1},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({id:"id",events:[],paginate:{},multi:!1,filters:[],whitelist:[]},t)}var t,r;return t=e,(r=[{key:"filterQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.paginate?e.paginate:this.options.paginate,n=e.query,o=void 0===n?{}:n,i=Object.assign({operators:this.options.whitelist||[],filters:this.options.filters,paginate:r},t),u=a.default(o,i);return Object.assign(u,{paginate:r})}},{key:"allowsMulti",value:function(e){var t=s[e];if(void 0!==t)return t;var r=this.options.multi;return!0===r||!1===r?r:r.includes(e)}},{key:"find",value:function(e){return u(this,"_find",e)}},{key:"get",value:function(e,t){return u(this,"_get",e,t)}},{key:"create",value:function(e,t){return Array.isArray(e)&&!this.allowsMulti("create")?Promise.reject(new i.MethodNotAllowed("Can not create multiple entries")):u(this,"_create",e,t)}},{key:"update",value:function(e,t,r){return null===e||Array.isArray(t)?Promise.reject(new i.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")):u(this,"_update",e,t,r)}},{key:"patch",value:function(e,t,r){return null!==e||this.allowsMulti("patch")?u(this,"_patch",e,t,r):Promise.reject(new i.MethodNotAllowed("Can not patch multiple entries"))}},{key:"remove",value:function(e,t){return null!==e||this.allowsMulti("remove")?u(this,"_remove",e,t):Promise.reject(new i.MethodNotAllowed("Can not remove multiple entries"))}},{key:"id",get:function(){return this.options.id}},{key:"events",get:function(){return this.options.events}}])&&n(t.prototype,r),e}();t.AdapterService=c},385:(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.sorter=t.compare=t.compareArrays=t.compareNSB=void 0,t.compareNSB=function(e,t){return e<t?-1:e>t?1:0},t.compareArrays=function(e,r){var n,o;for(n=0;n<Math.min(e.length,r.length);n+=1)if(0!==(o=t.compare(e[n],r[n])))return o;return t.compareNSB(e.length,r.length)},t.compare=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.compareNSB,o=t,i=o.compareNSB,a=o.compare,u=o.compareArrays;if(void 0===e)return void 0===r?0:-1;if(void 0===r)return void 0===e?0:1;if(null===e)return null===r?0:-1;if(null===r)return null===e?0:1;if("number"==typeof e)return"number"==typeof r?i(e,r):-1;if("number"==typeof r)return"number"==typeof e?i(e,r):1;if("string"==typeof e)return"string"==typeof r?n(e,r):-1;if("string"==typeof r)return"string"==typeof e?n(e,r):1;if("boolean"==typeof e)return"boolean"==typeof r?i(e,r):-1;if("boolean"==typeof r)return"boolean"==typeof e?i(e,r):1;if(e instanceof Date)return r instanceof Date?i(e.getTime(),r.getTime()):-1;if(r instanceof Date)return e instanceof Date?i(e.getTime(),r.getTime()):1;if(Array.isArray(e))return Array.isArray(r)?u(e,r):-1;if(Array.isArray(r))return Array.isArray(e)?u(e,r):1;for(var s=Object.keys(e).sort(),c=Object.keys(r).sort(),f=0,l=0;l<Math.min(s.length,c.length);l+=1)if(0!==(f=a(e[s[l]],r[c[l]])))return f;return i(s.length,c.length)},t.sorter=function(e){var n=Object.keys(e).map((function(t){return{key:t,direction:e[t]}}));return function(e,o){var i,a,u=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}(n);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(0!=(i=s.direction*t.compare(e[s.key],o[s.key])))return i}}catch(e){u.e(e)}finally{u.f()}return 0}}},782:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enableHooks=t.processHooks=t.getHooks=t.isHookObject=t.convertHookData=t.makeArguments=t.defaultMakeArguments=t.createHookObject=t.ACTIVATE_HOOKS=void 0;var o=r(621),i=o._,a=i.each,u=i.pick;function s(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t}function c(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==n(e)?t={all:[e]}:a(e,(function(e,r){t[r]=Array.isArray(e)?e:[e]})),t}function f(e){return"object"===n(e)&&"string"==typeof e.method&&"string"==typeof e.type}t.ACTIVATE_HOOKS=o.createSymbol("__feathersActivateHooks"),t.createHookObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return Object.defineProperty(r,"toJSON",{value:function(){return u(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,t,{method:e,get path(){var e=t.app,r=t.service;return r&&e&&e.services?Object.keys(e.services).find((function(t){return e.services[t]===r})):null}})},t.defaultMakeArguments=s,t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return s(e)},t.convertHookData=c,t.isHookObject=f,t.getHooks=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.__hooks[r][n]||[],a=t.__hooks[r][n]||[];return o?a.concat(i):i.concat(a)},t.processHooks=function(e,t){var r=this,n=t,o=function(e){if(e){if(!f(e))throw new Error("".concat(n.type," hook for '").concat(n.method,"' method returned invalid hook object"));n=e}return n};return e.reduce((function(e,t){var n=t.bind(r);return e.then((function(e){return n(e)})).then(o)}),Promise.resolve(n)).then((function(){return n})).catch((function(e){throw e.hook=n,e}))},t.enableHooks=function(e,t,r){if("function"==typeof e.hooks)return e;var n={};return r.forEach((function(e){n[e]={}})),Object.defineProperty(e,"__hooks",{configurable:!0,value:n,writable:!0}),Object.assign(e,{hooks:function(e){var r=this;return a(e,(function(e,n){if(!r.__hooks[n])throw new Error("'".concat(n,"' is not a valid hook type"));var o=c(e);a(o,(function(e,r){if("all"!==r&&-1===t.indexOf(r))throw new Error("'".concat(r,"' is not a valid hook method"))})),t.forEach((function(e){var t=r.__hooks[n][e]||(r.__hooks[n][e]=[]);o.all&&t.push.apply(t,o.all),o[e]&&t.push.apply(t,o[e])}))})),this}})}},410:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0;var u=i(r(782));a(r(621),t),t.hooks=u},621:(e,t)=>{"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.makeUrl=t.isPromise=t._=t.stripSlashes=void 0,t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")},t._={each:function(e,r){e&&"function"==typeof e.forEach?e.forEach(r):t._.isObject(e)&&Object.keys(e).forEach((function(t){return r(e[t],t)}))},some:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).some((function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)}))},every:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).every((function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)}))},keys:function(e){return Object.keys(e)},values:function(e){return t._.keys(e).map((function(t){return e[t]}))},isMatch:function(e,r){return t._.keys(r).every((function(t){return e[t]===r[t]}))},isEmpty:function(e){return 0===t._.keys(e).length},isObject:function(e){return"object"===n(e)&&!Array.isArray(e)&&null!==e},isObjectOrArray:function(e){return"object"===n(e)&&null!==e},extend:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[e].concat(r))},omit:function(e){for(var r=t._.extend({},e),n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach((function(e){return delete r[e]})),r},pick:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})},merge:function(e,n){return t._.isObject(e)&&t._.isObject(n)&&Object.keys(n).forEach((function(o){t._.isObject(n[o])?(e[o]||Object.assign(e,r({},o,{})),t._.merge(e[o],n[o])):Object.assign(e,r({},o,n[o]))})),e}},t.isPromise=function(e){return t._.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="function"==typeof r.get?r.get.bind(r):function(){},o=n("env")||"production",i=n("host")||process.env.HOST_NAME||"localhost",a="development"===o||"test"===o||void 0===o?"http":"https",u=n("port")||process.env.PORT||3030,s="development"===o||"test"===o||void 0===o?":".concat(u):"";return e=e||"","".concat(a,"://").concat(i).concat(s,"/").concat(t.stripSlashes(e))},t.createSymbol=function(e){return"undefined"!=typeof Symbol?Symbol(e):e}},743:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(801)("@feathersjs/errors");function i(e,t,r,a,u){var s,c,f;(e=e||"Error")instanceof Error?(c=e.message||"Error",e.errors&&(s=e.errors)):"object"===n(e)?(c=e.message||"Error",u=e):c=e,u&&((f=JSON.parse(JSON.stringify(u))).errors?(s=f.errors,delete f.errors):u.errors&&(s=JSON.parse(JSON.stringify(u.errors)))),this.type="FeathersError",this.name=t,this.message=c,this.code=r,this.className=a,this.data=f,this.errors=s||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function u(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function s(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function c(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function h(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function d(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function v(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function y(e,t){i(this,e,"Gone",410,"gone")}function m(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function g(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function b(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function w(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function S(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function _(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function O(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}a(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),a(u,i),a(s,i),a(c,i),a(f,i),a(l,i),a(p,i),a(h,i),a(d,i),a(v,i),a(y,i),a(m,i),a(g,i),a(b,i),a(w,i),a(S,i),a(_,i),a(O,i);var x={FeathersError:i,BadRequest:u,NotAuthenticated:s,PaymentError:c,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:h,Timeout:d,Conflict:v,Gone:y,LengthRequired:m,Unprocessable:g,TooManyRequests:b,GeneralError:w,NotImplemented:S,BadGateway:_,Unavailable:O,400:u,401:s,402:c,403:f,404:l,405:p,406:h,408:d,409:v,410:y,411:m,422:g,429:b,500:w,501:S,502:_,503:O};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=x[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"===n(e)&&Object.assign(r,e),r}},x)},801:(e,t,r)=>{var n;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(331)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},331:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){function t(e){var r,n=null;function i(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(i.enabled){var a=i,u=Number(new Date),s=u-(r||u);a.diff=s,a.prev=r,a.curr=u,r=u,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var o=t.formatters[r];if("function"==typeof o){var i=n[c];e=o.call(a,i),n.splice(c,1),c--}return e})),t.formatArgs.call(a,n);var f=a.log||t.log;f.apply(a,n)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===n?t.enabled(e):n},set:function(e){n=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},668:(e,t,r)=>{var n=r(568),o=r(614).v4,i=r(670),a=r(106).stripProps;function u(e){return e="string"==typeof e?e:JSON.stringify(e),n(e)}e.exports={genUuid:function(e){return e?i.generate():o()},hash:u,hashOfRecord:function(e){return u(a(e,["id","_id"]))}}},707:(e,t,r)=>{var n=r(273),o=r(668),i=r(106),a=r(662);e.exports=Object.assign(Object.assign(Object.assign({to:n},o),i),{OptionsProxy:a})},106:e=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"object"===t(e)&&!Array.isArray(e)&&null!==e}e.exports={isObject:r,stripProps:function e(t,n){n=Array.isArray(n)?n:n||[];var o={};return Object.keys(t).forEach((function(i){if(-1===n.indexOf(i)){var a=t[i];o[i]=r(a)?e(a,n):a}})),o}}},662:e=>{function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r={},n=[];e.exports=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t)throw new Error("OptionsProxy: Sorry, you must supply a name to proxy.");this.name=t,r[this.name]=[],n[this.name]=null}var o,i;return o=e,(i=[{key:"observe",value:function(e){var t=this;return new Proxy(e,{get:function(e,o){return n[t.name]&&(r[t.name][o]||(r[t.name][o]=[]),r[t.name][o].push(n[t.name])),e[o]},set:function(e,n,o){return e[n]=o,r[t.name][n]&&r[t.name][n].forEach((function(e){return e()})),!0}})}},{key:"watcher",value:function(e){n[this.name]=e,e(),n[this.name]=null}}])&&t(o.prototype,i),e}()},273:e=>{e.exports=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))}},613:(e,t,r)=>{var n=r(707),o=n.to,i=n.isObject,a=n.stripProps,u=n.genUuid,s=n.hash,c=n.hashOfRecord,f=r(683),l=f.Owndata,p=f.owndataWrapper,h=r(153),d=h.Ownnet,v=h.ownnetWrapper;e.exports={to:o,isObject:i,stripProps:a,genUuid:u,hash:s,hashOfRecord:c,Owndata:l,owndataWrapper:p,Ownnet:d,ownnetWrapper:v}},976:(e,t,r)=>{var n=r(387);e.exports=n},387:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){throw new TypeError('"'+e+'" is read-only')}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=d(r(530)),y=r(597),m=d(r(743)),g=d(r(203)),b=r(707),w=d(r(564)),S=r(801)("@feathersjs-offline:ownclass:service-base"),_={id:"id",store:null,storage:null,useShortUuid:!0,throttle:null,timedSync:864e5,adapterTest:!1,matcher:v.default,sorter:y.sorter,fixedName:""},O=new Date(0),x=["uuid","updatedAt","onServerAt","deletedAt"],k=0,A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r;return Array.isArray(e)?(r=[],e.map((function(e,n,o){var i=C(o[n]);t.forEach((function(e){return delete i[e]})),r.push(i)}))):(r=C(e),t.forEach((function(e){return delete r[e]}))),r}},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(j,e);var t,r,n,d,v=(n=j,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(d){var r=p(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function j(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j);var r=Object.assign({},_,e);return S("Constructor started, newOpts = ".concat(JSON.stringify(r))),(t=v.call(this,r)).wrapperOptions=Object.assign({},r,t.options),S("Constructor ended, options = ".concat(JSON.stringify(t.options))),t.type="own-class",S("  Done."),f(t,l(t))}return t=j,(r=[{key:"_setup",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return S("_SetUp('".concat(t,"') started")),r.abrupt("return",this.setup(e,t));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"setup",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,o,i,s,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S("SetUp('".concat(t,"') started")),!this._setupPerformed){r.next=3;break}return r.abrupt("return");case 3:return this._setupPerformed=!0,this.options=this.wrapperOptions,n=this,this.thisName=""!==this.options.fixedName?this.options.fixedName:"".concat(this.type,"_offline_").concat(k++,"_").concat(t),(o=e.service(t))!==n&&(this.remoteService=o,e.use(t,n)),this.name=t,this.localServiceName=this.thisName+"_local",this.localServiceQueue=this.thisName+"_queue",this.storage=this.options.storage?this.options.storage:localStorage,this.localSpecOptions={name:this.localServiceName,storage:this.storage,store:this.options.store,reuseKeys:""!==this.options.fixedName},i=Object.assign({},this.options,this.localSpecOptions),s={id:"id",name:this.localServiceQueue,storage:this.storage,paginate:null,multi:!0,reuseKeys:""!==this.options.fixedName},S("  Setting up services '".concat(this.localServiceName,"' and '").concat(this.localServiceQueue,"'...")),e.use(this.localServiceName,g.default(i)),e.use(this.localServiceQueue,g.default(s)),this.localService=e.service(this.localServiceName),this.localQueue=e.service(this.localServiceQueue),r.next=23,this.localService.ready();case 23:return this.options=this.wrapperOptions,this.options.adapterTest?(c=Object.assign([],x),(f=c.findIndex((function(e){return e===n.id})))>-1&&c.splice(f,1),this._strip=A.apply(void 0,function(e){if(Array.isArray(e))return u(e)}(l=c)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(l)||a(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):this._strip=function(e){return e},this._select=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return function(t){return y.select.apply(y,[e].concat(r,[n.id]))(t)}},this.listening=!1,this.aIP=0,this.pQActive=!1,this.syncedAt=new Date(this.storage.getItem(this.thisName+"_syncedAt")||0).toISOString(),this.storage.setItem(this.thisName+"_syncedAt",new Date(this.syncedAt).toISOString()),this.remoteService instanceof y.AdapterService||this._listenOptions(),"function"==typeof this.remoteService.setup&&this.remoteService.setup(e,t),this.options.timedSync&&Number.isInteger(this.options.timedSync)&&this.options.timedSync>0&&(this._timedSyncHandle=setInterval((function(){return n.sync()}),n.options.timedSync)),S("  Done."),r.abrupt("return",!0);case 36:case"end":return r.stop()}var l}),r,this)})))}},{key:"_listenOptions",value:function(){var e=this,t=new b.OptionsProxy(e.thisName);this.options=t.observe(Object.assign({},e.remoteService.options?e.remoteService.options:{},e.options)),t.watcher((function(){e.remoteService.options=Object.assign({},e.remoteService.options,e.options),e.localService.options=Object.assign({},e.options,e.localSpecOptions)}))}},{key:"getEntries",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S("Calling getEntries(".concat(JSON.stringify(e),"})")),r=[],t.next=4,this.localService.getEntries(e).then((function(e){r=e}));case 4:return t.abrupt("return",Promise.resolve(r).then(this._strip).then(this._select(e)));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"get",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return S("Calling get(".concat(JSON.stringify(e),", ").concat(JSON.stringify(t),"})")),r.abrupt("return",this._get(e,t));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"_get",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return S("Calling _get(".concat(JSON.stringify(e),", ").concat(JSON.stringify(t),"})")),r.next=3,this.localService.get(e,t).then(this._strip).then(this._select(t)).catch((function(e){throw e}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"find",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S("Calling find(".concat(JSON.stringify(e),"})")),t.t0=S,t.t1="  rows=",t.t2=JSON,t.next=6,this.getEntries();case 6:return t.t3=t.sent,t.t4=t.t2.stringify.call(t.t2,t.t3),t.t5=t.t1.concat.call(t.t1,t.t4),(0,t.t0)(t.t5),t.abrupt("return",this._find(e));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"_find",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S("Calling _find(".concat(JSON.stringify(e),"})")),t.abrupt("return",this.localService.find(e).then(this._strip).then(this._select(e)));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"create",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S("Calling create(".concat(JSON.stringify(e),", ").concat(JSON.stringify(t),")")),!Array.isArray(e)||this.allowsMulti("create")){r.next=3;break}return r.abrupt("return",Promise.reject(new m.default.MethodNotAllowed("Creating multiple without option 'multi' set")));case 3:return r.abrupt("return",this._create(e,t));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"_create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,a,u,s,c,f,l,p,d,v,y=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S("Calling _create(".concat(JSON.stringify(e),", ").concat(JSON.stringify(t),", ").concat(r,")")),o=this,!Array.isArray(e)){n.next=8;break}if(this.allowsMulti("create")){n.next=6;break}return n.abrupt("return",Promise.reject(new m.default.MethodNotAllowed("Creating multiple without option 'multi' set")));case 6:return a=new Date,n.abrupt("return",Promise.all(e.map((function(e){return o._create(e,t,a)}))));case 8:return r=r||new Date,"uuid"in(u=C(e))||(u.uuid=b.genUuid(this.options.useShortUuid)),"updatedAt"in u||(u.updatedAt=r),u.onServerAt=O,n.next=15,b.to(this.localService.find({query:{uuid:u.uuid}}));case 15:if(s=n.sent,c=i(s,2),f=c[0],!(l=c[1])||!l.length){n.next=21;break}throw new m.default.BadRequest("Optimistic create requires unique uuid. (".concat(this.type,") res=").concat(JSON.stringify(l)));case 21:return C(t),this.disallowInternalProcessing("_create"),n.next=25,this._addQueuedEvent("create",u,C(u),t);case 25:return p=n.sent,n.next=28,b.to(this.localService.create(u,C(t)));case 28:if(d=n.sent,v=i(d,2),f=v[0],!(l=v[1])){n.next=36;break}this.remoteService.create(l,C(t)).then((function(e){return h(y,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.to(o._removeQueuedEvent("_create0",p,u,u.updatedAt));case 2:return t.next=4,o._patchIfNotRemoved(e[o.id],e);case 4:return o.allowInternalProcessing("_create0"),t.next=7,b.to(o._processQueuedEvents());case 7:case"end":return t.stop()}}),t)})))})).catch((function(e){return h(y,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("Timeout"===e.name){r.next=5;break}return r.next=3,b.to(o._removeQueuedEvent("_create1",p,e.message,u.updatedAt));case 3:return r.next=5,b.to(o.localService.remove(l[o.id],t));case 5:o.allowInternalProcessing("_create1");case 6:case"end":return r.stop()}}),r)})))})),n.next=40;break;case 36:return n.next=38,b.to(this._removeQueuedEvent("_create2",p,u,u.updatedAt));case 38:throw this.allowInternalProcessing("_create2"),f;case 40:return n.abrupt("return",Promise.resolve(l).then(this._strip).then(this._select(t)));case 41:case"end":return n.stop()}}),n,this)})))}},{key:"update",value:function(e,t,r){return h(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S("Calling update(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(r),"})")),null!==e&&!Array.isArray(t)){n.next=3;break}return n.abrupt("return",Promise.reject(new m.default.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")));case 3:return n.abrupt("return",this._update(e,t,r));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"_update",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,a,u,s,c,f,l,p,d,v,y,g=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S("Calling _update(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(r),"})")),o=this,null!==e&&!Array.isArray(t)){n.next=4;break}return n.abrupt("return",Promise.reject(new m.default.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")));case 4:return n.next=6,b.to(this.localService._get(e));case 6:if(a=n.sent,u=i(a,2),s=u[0],(c=u[1])&&c!=={}){n.next=12;break}throw new m.default.NotFound("Trying to update non-existing ".concat(this.id,"=").concat(e,". (").concat(this.type,") err=").concat(JSON.stringify(s.name)));case 12:return f=C(c),l=f.uuid,(p=C(t)).uuid=l,p.updatedAt=new Date,p.onServerAt=O,this.disallowInternalProcessing("_update"),n.next=21,this._addQueuedEvent("update",p,e,C(p),r);case 21:return d=n.sent,n.next=24,b.to(this.localService.update(e,p,C(r)));case 24:if(v=n.sent,y=i(v,2),s=y[0],c=y[1],s){n.next=32;break}this.remoteService.update(e,c,C(r)).then((function(e){return h(g,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.to(o._removeQueuedEvent("_update0",d,p,c.updatedAt));case 2:return t.next=4,o._patchIfNotRemoved(e[o.id],e);case 4:return o.allowInternalProcessing("_update0"),t.next=7,b.to(o._processQueuedEvents());case 7:case"end":return t.stop()}}),t)})))})).catch((function(t){return h(g,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("Timeout"!==t.name){r.next=4;break}S("_update TIMEOUT: ".concat(t.name,", ").concat(t.message)),r.next=9;break;case 4:return S("_update ERROR: ".concat(t.name,", ").concat(t.message)),r.next=7,b.to(o._removeQueuedEvent("_update1",d,p,c.updatedAt));case 7:return r.next=9,b.to(o.localService.patch(e,f));case 9:o.allowInternalProcessing("_update1");case 10:case"end":return r.stop()}}),r)})))})),n.next=36;break;case 32:return n.next=34,b.to(this._removeQueuedEvent("_update2",d,p,p.updatedAt));case 34:throw this.allowInternalProcessing("_update2"),s;case 36:return n.abrupt("return",Promise.resolve(p).then(this._strip).then(this._select(r)));case 37:case"end":return n.stop()}}),n,this)})))}},{key:"patch",value:function(e,t,r){return h(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S("Calling patch(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(r),"})")),null!==e||this.allowsMulti("patch")){n.next=3;break}return n.abrupt("return",Promise.reject(new m.default.MethodNotAllowed("Can not patch multiple entries")));case 3:return n.abrupt("return",this._patch(e,t,r));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"_patch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return h(this,void 0,void 0,regeneratorRuntime.mark((function a(){var u,s,c,f,l,p,d,v,y,g,w=this;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(S("Calling _patch(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(r),"})")),u=this,null!==e){a.next=7;break}if(this.allowsMulti("patch")){a.next=6;break}throw new m.default.MethodNotAllowed("Patching multiple without option 'multi' set");case 6:return a.abrupt("return",this.find(r).then((function(e){var n=e.data?e.data:e;Array.isArray(n)||(o("res"),n=[n]);var i=(new Date).toISOString();return Promise.all(n.map((function(e){return u._patch(e[w.id],t,r,i)})))})));case 7:return n=n||new Date,a.next=10,b.to(this.localService._get(e));case 10:if(s=a.sent,c=i(s,2),f=c[0],(l=c[1])&&l!=={}){a.next=16;break}throw f;case 16:return p=C(l),(d=Object.assign({},p,t)).onServerAt=O,d.updatedAt=n,this.disallowInternalProcessing("_patch"),a.next=23,this._addQueuedEvent("patch",d,e,C(d),r);case 23:return v=a.sent,a.next=26,b.to(this.localService.patch(e,d,C(r)));case 26:if(y=a.sent,g=i(y,2),f=g[0],!(l=g[1])){a.next=34;break}this.remoteService.patch(e,l,C(r)).then((function(e){return h(w,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.to(u._removeQueuedEvent("_patch0",v,e,l.updatedAt));case 2:return t.next=4,u._patchIfNotRemoved(e[u.id],e);case 4:return u.allowInternalProcessing("_patch0"),t.next=7,b.to(u._processQueuedEvents());case 7:case"end":return t.stop()}}),t)})))})).catch((function(t){return h(w,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("Timeout"!==t.name){r.next=4;break}S("_patch TIMEOUT: ".concat(t.name,", ").concat(t.message)),r.next=9;break;case 4:return S("_patch ERROR: ".concat(t.name,", ").concat(t.message)),r.next=7,b.to(u._removeQueuedEvent("_patch1",v,d,l.updatedAt));case 7:return r.next=9,b.to(u.localService.patch(e,p));case 9:u.allowInternalProcessing("_patch1");case 10:case"end":return r.stop()}}),r)})))})),a.next=38;break;case 34:return a.next=36,b.to(this._removeQueuedEvent("_patch2",v,d,d.updatedAt));case 36:throw this.allowInternalProcessing("_patch2"),f;case 38:return a.abrupt("return",Promise.resolve(d).then(this._strip).then(this._select(r)));case 39:case"end":return a.stop()}}),a,this)})))}},{key:"_patchIfNotRemoved",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.localService.patch(e,t).catch((function(e){return Promise.resolve(!0)})));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"remove",value:function(e,t){return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S("Calling remove(".concat(e,", ").concat(JSON.stringify(t),"})")),null!==e||this.allowsMulti("remove")){r.next=3;break}return r.abrupt("return",Promise.reject(new m.default.MethodNotAllowed("Can not remove multiple entries")));case 3:return r.abrupt("return",this._remove(e,t));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"_remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a,u,s,c,f,l,p,d,v=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(S("Calling _remove(".concat(e,", ").concat(JSON.stringify(t),"})")),n=this,null!==e){r.next=7;break}if(this.allowsMulti("remove")){r.next=6;break}throw new m.default.MethodNotAllowed("Removing multiple without option 'multi' set");case 6:return r.abrupt("return",this.find(t).then((function(e){var r=e.data?e.data:e;return Array.isArray(r)||(o("res"),r=[r]),Promise.all(r.map((function(e){return n._remove(e[v.id],t)})))})));case 7:return r.next=9,b.to(this.localService._get(e));case 9:if(a=r.sent,u=i(a,2),s=u[0],(c=u[1])&&c!=={}){r.next=15;break}throw new m.default.BadRequest("Trying to remove non-existing ".concat(this.id,"=").concat(e,". (").concat(this.type,") err=").concat(JSON.stringify(s),", res=").concat(JSON.stringify(c)));case 15:return f=C(c),this.disallowInternalProcessing("_remove"),r.next=19,this._addQueuedEvent("remove",f,e,t);case 19:return l=r.sent,r.next=22,b.to(this.localService.remove(e,C(t)));case 22:if(p=r.sent,d=i(p,2),s=d[0],c=d[1],s){r.next=30;break}this.remoteService.remove(e,C(t)).then((function(e){return h(v,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.to(n._removeQueuedEvent("_remove0",l,f,null));case 2:return n.allowInternalProcessing("_remove0"),e.next=5,b.to(n._processQueuedEvents());case 5:case"end":return e.stop()}}),e)})))})).catch((function(e){return h(v,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Timeout"!==e.name){t.next=4;break}S("_remove TIMEOUT: ".concat(e.name,", ").concat(e.message)),t.next=9;break;case 4:return S("_remove ERROR: ".concat(e.name,", ").concat(e.message,"\nbeforeRecord = ").concat(JSON.stringify(f))),t.next=7,b.to(n._removeQueuedEvent("_remove1",l,f,null));case 7:return t.next=9,b.to(n.localService.create(f,null));case 9:n.allowInternalProcessing("_remove1");case 10:case"end":return t.stop()}}),t)})))})),r.next=34;break;case 30:return r.next=32,b.to(this._removeQueuedEvent("_remove2",l,f,null));case 32:throw this.allowInternalProcessing("_remove2"),s;case 34:return r.abrupt("return",Promise.resolve(f).then(this._strip).then(this._select(t)));case 35:case"end":return r.stop()}}),r,this)})))}},{key:"allowInternalProcessing",value:function(e){S("allowInternalProcessing: ".concat(e," ").concat(this.thisName," ").concat(this.aIP-1)),this.aIP--}},{key:"disallowInternalProcessing",value:function(e){S("disallowInternalProcessing: ".concat(e," ").concat(this.thisName," ").concat(this.aIP+1)),this.aIP++}},{key:"internalProcessingAllowed",value:function(){return 0===this.aIP}},{key:"_addQueuedEvent",value:function(e,t,r,n,o){return h(this,void 0,void 0,regeneratorRuntime.mark((function a(){var u,s,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return S("addQueuedEvent entered"),a.next=3,b.to(this.localQueue.create({eventName:e,record:t,arg1:r,arg2:n,arg3:o}));case 3:return u=a.sent,(s=i(u,2))[0],c=s[1],S("addQueuedEvent added: ".concat(JSON.stringify(c))),a.abrupt("return",Promise.resolve(c.id));case 9:case"end":return a.stop()}}),a,this)})))}},{key:"_removeQueuedEvent",value:function(e,t,r,n){return h(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("removeQueuedEvent entered"),e.next=3,b.to(this.localQueue.remove(t));case 3:return r=e.sent,(n=i(r,2))[0],o=n[1],e.abrupt("return",Promise.resolve(o));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"_processQueuedEvents",value:function(){return h(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.default.NotImplemented("_processQueuedEvents must be implemented!!!");case 1:case"end":return e.stop()}}),e)})))}},{key:"sync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,o,a,u,s,c,f,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.internalProcessingAllowed()){t.next=5;break}return t.next=3,new Promise((function(e){setTimeout((function(){e(!0)}),200)}));case 3:t.next=0;break;case 5:return t.next=7,this._getSyncOptions(e);case 7:return r=t.sent,S("".concat(this.type,".sync(").concat(JSON.stringify(r),") started...")),n=this,o=!0,t.next=13,b.to(w.default(this.remoteService,r));case 13:if(a=t.sent,u=i(a,2),s=u[0],c=u[1],!s){t.next=21;break}return"timeout"===s.className?S("  TIMEOUT: ".concat(JSON.stringify(s))):S("  ERROR: ".concat(JSON.stringify(s))),this.localService.emit("synced",!1),t.abrupt("return",!1);case 21:return S("  Applying received snapshot data... (".concat(c.length," items)")),f=new Date(0).toISOString(),t.next=25,Promise.all(c.map((function(e){return h(l,void 0,void 0,regeneratorRuntime.mark((function t(){var r,a,u,s,c,l,p,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.to(n.localService.get(e[n.id]));case 2:if(r=t.sent,a=i(r,2),u=a[0],!a[1]){t.next=26;break}if(f=f<e.onServerAt?e.onServerAt:f,!e.deletedAt){t.next=17;break}return t.next=11,b.to(n.localService.remove(e[n.id]));case 11:s=t.sent,c=i(s,2),u=c[0],c[1],t.next=23;break;case 17:return t.next=19,b.to(n.localService.patch(e[n.id],e));case 19:l=t.sent,p=i(l,2),u=p[0],p[1];case 23:u&&(o=!1),t.next=35;break;case 26:if(e.deletedAt){t.next=35;break}return f=f<e.onServerAt?e.onServerAt:f,t.next=30,b.to(n.localService.create(e));case 30:h=t.sent,d=i(h,2),u=d[0],d[1],u&&(o=!1);case 35:case"end":return t.stop()}}),t)})))})));case 25:if(this.storage.setItem(this.thisName+"_syncedAt",new Date(f).toISOString()),!o){t.next=34;break}case 27:return t.next=29,this._processQueuedEvents();case 29:if(t.sent){t.next=34;break}return t.next=32,new Promise((function(e){setTimeout((function(){e(!0)}),200)}));case 32:t.next=27;break;case 34:return this.localService.emit("synced",o),t.abrupt("return",o);case 37:case"end":return t.stop()}}),t,this)})))}},{key:"_getSyncOptions",value:function(e){return h(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.assign({},{offline:{_forceAll:!0},$sort:{onServerAt:1}}),n=e?new Date(0).toISOString():this.syncedAt,(o=n<this.syncedAt?n:this.syncedAt)!==new Date(n)&&(r.offline.onServerAt=new Date(o)),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"remote",get:function(){return this.remoteService},set:function(e){throw new m.default.Forbidden("You cannot change value of remote!")}},{key:"local",get:function(){return this.localService},set:function(e){throw new m.default.Forbidden("You cannot change value of local!")}},{key:"queue",get:function(){return this.localQueue},set:function(e){throw new m.default.Forbidden("You cannot change value of queue!")}}])&&s(t.prototype,r),j}(y.AdapterService);function C(e){return JSON.parse(JSON.stringify(e))}e.exports=j},683:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=r(410),d=p(r(743)),v=r(707),y=p(r(976)),m=r(801)("@feathersjs-offline:owndata:service-wrapper"),g=new Date(0).toISOString(),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,r,n,p,h=(n=d,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(p){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return u(this,e)});function d(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),m("Constructor started, opts = ".concat(JSON.stringify(e))),(r=h.call(this,e)).type="own-data",r.__forTestingOnly=c((t=s(r),f(d.prototype)),"_processQueuedEvents",t),m("  Done."),u(r,s(r))}return t=d,(r=[{key:"_processQueuedEvents",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a,u,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m("processQueuedEvents (".concat(this.type,") entered")),this.internalProcessingAllowed()&&!this.pQActive){e.next=3;break}return e.abrupt("return",!1);case 3:return this.pQActive=!0,e.next=6,v.to(this.localQueue.getEntries({query:{$sort:(p={},h=this.id,1,h in p?Object.defineProperty(p,h,{value:1,enumerable:!0,configurable:!0,writable:!0}):p[h]=1,p)}}));case 6:if(t=e.sent,(c=t,f=2,r=function(e){if(Array.isArray(e))return e}(c)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(c,f)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(c,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],(n=r[1])&&n!==[]){e.next=13;break}return this.pQActive=!1,e.abrupt("return",!0);case 13:m("  processing ".concat(n.length," queued entries...")),i=this,a=!1,u=regeneratorRuntime.mark((function e(){var t,r,o,u,c,f,p,h,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.shift(),o=(r=t).eventName,u=r.record,c=r.arg1,f=r.arg2,p=r.arg3,h=void 0===p?null:p,d=r.id,y=_(s.id,o,u,c,f,h,d),o=y.eventName,t=y.el,c=y.arg1,f=y.arg2,h=y.arg3,d=y.id,m("    processing: event=".concat(o,", arg1=").concat(JSON.stringify(c),", arg2=").concat(JSON.stringify(f),", arg3=").concat(JSON.stringify(h))),e.next=12,i.remoteService[o](c,f,h).then((function(e){return l(s,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.to(i.localQueue.remove(d));case 2:if("remove"===o){t.next=5;break}return t.next=5,v.to(i.localService.patch(e[i.id],e));case 5:case"end":return t.stop()}}),t)})))})).catch((function(e){return l(s,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m("catch: record=".concat(JSON.stringify(u),", BOT=").concat(JSON.stringify(g),", event=").concat(o,", id=").concat(d)),u.onServerAt!==g||"remove"!==o){e.next=6;break}return e.next=4,v.to(i.localQueue.remove(d));case 4:e.next=7;break;case 6:a=!0;case 7:case"end":return e.stop()}}),e)})))}));case 12:case"end":return e.stop()}}),e)}));case 17:if(!n.length||a){e.next=21;break}return e.delegateYield(u(),"t0",19);case 19:e.next=17;break;case 21:return m("  processing ended, stop=".concat(a)),this.pQActive=!1,e.abrupt("return",!a);case 24:case"end":return e.stop()}var c,f,p,h}),e,this)})))}}])&&i(t.prototype,r),d}(y.default);function w(e){return new b(e)}var S=w;function _(e,t,r,n,o,i,a){var u=r[e];switch(t){case"create":return{eventName:t,el:r,arg1:r,arg2:o,arg3:{},id:a};case"update":return{eventName:t,el:r,arg1:n,arg2:o,arg3:i,id:a};case"patch":return{eventName:t,el:r,arg1:u,arg2:r,arg3:i,id:a};case"remove":return{eventName:t,el:r,arg1:u,arg2:{},arg3:i,id:a}}}e.exports={init:w,Owndata:S,owndataWrapper:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(m("owndataWrapper started on path '".concat(t,"'")),!(e&&e.version&&e.service&&e.services))throw new d.default.Unavailable("The FeathersJS app must be supplied as first argument");var n=h.stripSlashes(t),o=e.service(n);if(void 0===o)throw new d.default.Unavailable("No prior service registered on path '".concat(n,"'"));var i=Object.assign({},o.options,r);e.use(n,S(i));var a=e.service(n);return a.options=i,a._listenOptions(),a}},w.Service=b},153:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(410),v=h(r(743)),y=r(707),m=h(r(976)),g=r(801)("@feathersjs-offline:ownnet:service-wrapper"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,i,h=(n=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(i){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function d(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),g("Constructor started, opts = ".concat(JSON.stringify(e))),(r=h.call(this,e)).type="own-net",r.__forTestingOnly=f((t=c(r),l(d.prototype)),"_processQueuedEvents",t),g("  Done."),r}return t=d,(r=[{key:"_processQueuedEvents",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,a,u,s,c,f,l,h,d,v,m,b,w,S,O,x,k=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g("processQueuedEvents (".concat(this.type,") entered (IPallowed=").concat(this.internalProcessingAllowed(),", pQActive=").concat(this.pQActive,")")),this.internalProcessingAllowed()&&!this.pQActive){e.next=4;break}return g("processingQueuedEvents: leaving  internalProcessing (aIP=".concat(this.aIP,"), pQActive=").concat(this.pQActive)),e.abrupt("return",!1);case 4:return this.pQActive=!0,e.next=7,y.to(this.localQueue.getEntries({query:{$sort:{uuid:1,updatedAt:1}}}));case 7:if(t=e.sent,(r=o(t,2))[0],(n=r[1])&&n!==[]&&0!==n.length){e.next=14;break}return this.pQActive=!1,e.abrupt("return",!0);case 14:this.disallowInternalProcessing(),g("  processing ".concat(n.length," queued entries...")),i=this,a=0,u=0,s=[],c=[],f=[];case 23:for(;a<n.length&&n[a].record.uuid===n[u].record.uuid;)b=n[a],l=b.eventName,h=b.record,d=b.arg1,v=b.arg2,m=b.arg3,s.push(n[a].id),f.push(l),"remove"===l&&(c.push(_(this.id,l,h,d,v,m,s)),f=[],s=[],u=a+1),a++;if(!s.length){e.next=41;break}if(w=void 0,"create"===n[u].eventName){e.next=36;break}return e.next=30,y.to(i.localService.get(n[u].record[this.id]));case 30:S=e.sent,(O=o(S,2))[0],w=O[1],e.next=37;break;case 36:w=n[u].record;case 37:x=f.includes("create")?"create":"update",c.push(_(this.id,x,w,d,v,m,s)),a<n.length&&(f=[n[a].eventName],s=[n[a].id]),u=a++;case 41:if(a<n.length){e.next=23;break}case 42:return g("netOps = ".concat(JSON.stringify(c))),e.next=46,Promise.all(c.map((function(e){return p(k,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,o,a,u,s,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.eventName,e.el,n=e.arg1,o=e.arg2,a=e.arg3,u=e.ids,s="  remoteService['".concat(r,"'](").concat(JSON.stringify(n),", ").concat(JSON.stringify(o),", ").concat(JSON.stringify(a),")"),g(s),t.next=5,i.remoteService[r](n,o,a).then((function(e){return p(c,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.localQueue.remove(null,{query:{id:{$in:(o=u,JSON.parse(JSON.stringify(o)))}}}).then((function(t){return p(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("remove"===r){t.next=4;break}return t.next=3,i.localService.patch(e[i.id],e).catch((function(t){return g(s+" (copy)\n  localService.patch(".concat(JSON.stringify(e[i.id]),", ").concat(JSON.stringify(e),")")),!0})).then((function(){return!1}));case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})))})).catch((function(e){return g("err2=".concat(e.name,", ").concat(e.message)),!1}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}var o}),t)})))}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))})));case 46:return e.sent,this.allowInternalProcessing(),this.pQActive=!1,e.abrupt("return",!0);case 50:case"end":return e.stop()}}),e,this)})))}}])&&a(t.prototype,r),d}(m.default);function w(e){return new b(e)}var S=w;function _(e,t,r,n,o,i,a){var u=r[e];switch(t){case"create":return{eventName:t,el:r,arg1:r,arg2:o,arg3:{},ids:a};case"update":return{eventName:t,el:r,arg1:n,arg2:o,arg3:i,ids:a};case"patch":return{eventName:t,el:r,arg1:u,arg2:r,arg3:i,ids:a};case"remove":return{eventName:t,el:r,arg1:u,arg2:{},arg3:i,ids:a}}}e.exports={init:w,Ownnet:S,ownnetWrapper:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(g("ownnetWrapper started on path '".concat(t,"'")),!(e&&e.version&&e.service&&e.services))throw new v.default.Unavailable("The FeathersJS app must be supplied as first argument");var n=d.stripSlashes(t),o=e.service(n);if(void 0===o)throw new v.default.Unavailable("No prior service registered on path '".concat(n,"'"));var i=Object.assign({},o.options,r);e.use(n,S(i));var a=e.service(n);return a.options=i,a._listenOptions(),a}},w.Service=b},564:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(801)).default("@feathersjs-offline:snapshot");e.exports=function(e,t){o("snapshot start: ".concat(JSON.stringify(t)));var r,n=Object.assign({},{$skip:0,$limit:200},t);return e.find({query:n}).then((function(e){if(o("snapshot query = ".concat(JSON.stringify(n),", read ").concat((e.data||e).length," records\n\n             snapshot   read ").concat(JSON.stringify(e.data||e))),!e.data)return e;var t=e.total,a=e.limit,u=e.skip,s=e.data;return r=s,u+s.length<t?i(u+a):r}));function i(t){return n.$skip=t,e.find({query:n}).then((function(e){var t=e.total,n=e.limit,a=e.skip,u=e.data;return o("read ".concat(u.length," records")),r=r.concat(u),a+u.length<t?i(a+n):r}))}}},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},12:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}},e.exports=r},203:(e,t,r)=>{const{Service:n}=r(691),o=[];class i extends n{constructor(e={}){if(super(e),this._storageKey=e.name||"feathers",this._storage=e.storage||"undefined"!=typeof window&&window.localStorage,this._throttle=e.throttle||200,this._reuseKeys=e.reuseKeys||!1,this.store=null,!this._storage)throw new Error("The `storage` option needs to be provided");if(-1===o.indexOf(this._storageKey))o.push(this._storageKey);else if(!this._reuseKeys)throw new Error(`The storage name '${this._storageKey}' is already in use by another instance.`);this.ready()}ready(){return this.store?Promise.resolve(this.store):Promise.resolve(this._storage.getItem(this._storageKey)).then((e=>JSON.parse(e||"{}"))).then((e=>{const t=Object.keys(e),r=e[t[t.length-1]];return this._uId=t.length&&void 0!==r[this.id]?r[this.id]+1:this._uId,this.store=e}))}flush(e){return this._timeout||(this._timeout=setTimeout((()=>{this._storage.setItem(this._storageKey,JSON.stringify(this.store)),delete this._timeout}),this._throttle)),e}execute(e,...t){return this.ready().then((()=>super[e](...t)))}find(...e){return this.execute("find",...e)}get(...e){return this.execute("get",...e)}create(...e){return this.execute("create",...e).then((e=>this.flush(e)))}patch(...e){return this.execute("patch",...e).then((e=>this.flush(e)))}update(...e){return this.execute("update",...e).then((e=>this.flush(e)))}remove(...e){return this.execute("remove",...e).then((e=>this.flush(e)))}}e.exports=function(e){return new i(e)},e.exports.Service=n},691:(e,t,r)=>{const n=r(743),{_:o}=r(410),{sorter:i,select:a,AdapterService:u}=r(597),s=r(41).ZP,c=(e,...t)=>a(...t)(JSON.parse(JSON.stringify(e)));class f extends u{constructor(e={}){super(o.extend({id:"id",matcher:s,sorter:i},e)),this._uId=e.startId||0,this.store=e.store||{}}async getEntries(e={}){const{query:t}=this.filterQuery(e);return this._find(Object.assign({},e,{paginate:!1,query:t}))}async _find(e={}){const{query:t,filters:r,paginate:n}=this.filterQuery(e);let i=o.values(this.store).filter(this.options.matcher(t));const a=i.length;void 0!==r.$sort&&i.sort(this.options.sorter(r.$sort)),void 0!==r.$skip&&(i=i.slice(r.$skip)),void 0!==r.$limit&&(i=i.slice(0,r.$limit));const u={total:a,limit:r.$limit,skip:r.$skip||0,data:i.map((t=>c(t,e)))};return n&&n.default?u:u.data}async _get(e,t={}){if(e in this.store){const{query:r}=this.filterQuery(t),n=this.store[e];if(this.options.matcher(r)(n))return c(n,t,this.id)}throw new n.NotFound(`No record found for id '${e}'`)}async _create(e,t={}){if(Array.isArray(e))return Promise.all(e.map((e=>this._create(e,t))));const r=e[this.id]||this._uId++,n=o.extend({},e,{[this.id]:r}),i=this.store[r]=n;return c(i,t,this.id)}async _update(e,t,r={}){const n=(await this._get(e))[this.id];return e=n==e?n:e,this.store[e]=o.extend({},t,{[this.id]:e}),this._get(e,r)}async _patch(e,t,r={}){const n=e=>{const n=e[this.id];return this.store[n]=o.extend(this.store[n],o.omit(t,this.id)),c(this.store[n],r,this.id)};return null===e?(await this.getEntries(r)).map(n):n(await this._get(e,r))}async _remove(e,t={}){if(null===e){const e=await this.getEntries(t);return Promise.all(e.map((e=>this._remove(e[this.id],t))))}const r=await this._get(e,t);return delete this.store[e],r}}e.exports=e=>new f(e),e.exports.Service=f},41:(e,t,r)=>{"use strict";function n(e){var t="[object "+e+"]";return function(e){return Object.prototype.toString.call(e)===t}}r.d(t,{ZP:()=>_});var o=n("Array"),i=n("Object"),a=n("Function");function u(e,t){return a(e.get)?e.get(t):e[t]}const s=(c=e=>function(t,r,n,i,a){if(!o(r)||!r.length)return e(t,r);for(var s=0,c=r.length;s<c;s++)if(e(t,u(r,s)))return!0;return!1},(e,t,r,n,o)=>o?Boolean(o.find((([t,r,n])=>c(e)))):c(e));var c;function f(e){return function(t,r,n,i){if(!o(r)||!r.length)return e(t,r,n,i);for(var a=0,s=r.length;a<s;a++)if(!e(t,u(r,a),r,i))return!1;return!0}}function l(e,t,r,n,o){return e.validate(e.options,t,r,n,o)}var p={$eq:s((function(e,t){return e(t)})),$ne:f((function(e,t){return e(t)})),$gt:s((function(e,t){return e(t)})),$gte:s((function(e,t){return e(t)})),$lt:s((function(e,t){return e(t)})),$lte:s((function(e,t){return e(t)})),$mod:s((function(e,t){return e(t)})),$in:(e,t)=>e(t),$nin:function(e,t){return e(t)},$not:function(e,t,r,n){return e(t,r,n)},$type:function(e,t){return e(t)},$all:function(e,t,r,n,o){return p.$and(e,t,r,n,o)},$size:function(e,t){return!!t&&e===t.length},$or:function(e,t,r,n){for(var o=0,i=e.length;o<i;o++)if(l(u(e,o),t,r,n))return!0;return!1},$nor:function(e,t,r,n){return!p.$or(e,t,r,n)},$and:function(e,t,r,n,o){if(o){for(var i=0,a=e.length;i<a;i++)if(!l(u(e,i),t,r,n,o))return!1}else for(i=0,a=e.length;i<a;i++)if(!l(u(e,i),t,r,n,o))return!1;return!0},$regex:s((function(e,t){return"string"==typeof t&&e.test(t)})),$where:function(e,t,r,n){return e.call(t,t,r,n)},$elemMatch:function(e,t,r,n){return o(t)?!!~function(e,t){for(var r=0;r<e.length;r++)if(u(e,r),l(t,u(e,r)))return r;return-1}(t,e):l(e,t,r,n)},$exists:function(e,t,r,n){return n.hasOwnProperty(r)===e}},h={$eq:function(e,t,{comparable:r,compare:n}){return e instanceof RegExp?s((function(t){return"string"==typeof t&&e.test(t)})):e instanceof Function?s(e):o(e)&&!e.length?s((function(e){return o(e)&&!e.length})):s(null===e?function(e){return null==e}:function(t){return 0===n(r(t),r(e))})},$gt:function(e,t,{comparable:r,compare:n}){return function(t){return n(r(t),r(e))>0}},$gte:function(e,t,{comparable:r,compare:n}){return function(t){return n(r(t),r(e))>=0}},$lt:function(e,t,{comparable:r,compare:n}){return function(t){return n(r(t),r(e))<0}},$lte:function(e,t,{comparable:r,compare:n}){return function(t){return n(r(t),r(e))<=0}},$in:function(e,t,r){const{comparable:n}=r;return function(t){if(!(t instanceof Array)){var o=n(t);if(o===t&&"object"==typeof t)for(a=e.length;a--;)if(String(e[a])===String(t)&&"[object Object]"!==String(t))return!0;if(void 0===o)for(a=e.length;a--;)if(null==e[a])return!0;for(a=e.length;a--;){var i=l(S(u(e,a),r),o,a,e);if(i&&"[object Object]"!==String(i)&&"[object Object]"!==String(o))return!0}return!!~e.indexOf(o)}for(var a=t.length;a--;)if(~e.indexOf(n(u(t,a))))return!0;return!1}},$nin:function(e,t,r){const n=h.$in(e,t,r);return function(e,t,r,o){return!n(e,t,r,o)}},$mod:function(e){return function(t){return t%e[0]==e[1]}},$ne:function(e,t,r){const n=h.$eq(e,t,r);return f((function(e,t,r,o){return!n(e,t,r,o)}))},$and:function(e,t,r){return e.map(g(r))},$all:function(e,t,r){return h.$and(e,t,r)},$or:function(e,t,r){return e.map(g(r))},$nor:function(e,t,r){return e.map(g(r))},$not:function(e,t,r){const n=g(r)(e);return function(e,t,r){return!l(n,e,t,r)}},$type:function(e){return function(t,r,n){return null!=t&&(t instanceof e||t.constructor==e)}},$regex:function(e,t){return new RegExp(e,t.$options)},$where:function(e){return"string"==typeof e?new Function("obj","return "+e):e},$elemMatch:function(e,t,r){return g(r)(e)},$exists:function(e){return!!e}};function d(e,t){return{options:e,validate:t}}function v({keyPath:e,child:t,query:r},n){const o=[];if(y(n,e,0,n,o),1===o.length){const[e,r,n]=o[0];return l(t,e,r,n)}return r&&r.$ne,o.map((([e])=>e)),l(t,void 0,void 0,void 0,o)}function y(e,t,r,n,i){if(r!==t.length&&null!=e){var a=u(t,r);if(o(e)&&isNaN(Number(a)))for(var s=0,c=e.length;s<c;s++)y(u(e,s),t,r,e,i);else y(u(e,a),t,r+1,e,i)}else i.push([e,t[r-1],n])}function m(e,t,r){return d({keyPath:e,child:t,query:r},v)}function g(e){const{comparable:t,expressions:r}=e;var n=function(e){var t;return e&&(t=e)&&(t.constructor===Object||t.constructor===Array||"function Object() { [native code] }"===t.constructor.toString()||"function Array() { [native code] }"===t.constructor.toString())||(e={$eq:e}),e},o=function(n){n=t(n);var o=[];for(var a in n){var u=n[a];if("$options"!==a){var s=p[a]||e&&r&&r[a];if(s)h[a]&&(u=h[a](u,n,e)),o.push(d(t(u),s));else{if(36===a.charCodeAt(0))throw new Error("Unknown operation "+a);var c=a.split(".");o.push(m(c,i(u),u))}}}return 1===o.length?o[0]:d(o,p.$and)},i=function(e){return-1===w(e=n(e),[]).join(",").search(/[$.]/)?d(e,b):o(e)};return function(e){return o(n(e))}}function b(e,t){if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(i(e)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!b(e[r],t[r]))return!1;return!0}if(o(e)){if(e.length!==t.length)return!1;for(var n=0,a=e.length;n<a;n++)if(!b(e[n],t[n]))return!1;return!0}return e===t}function w(e,t){if(!i(e))return t;for(var r in e)t.push(r),w(e[r],t);return t}function S(e,t){var r=g(t)(e);return t&&t.select&&(r={options:r,validate:function(e,r,n,o){return l(e,r&&t.select(r),n,o)}}),r}function _(e,t){var r=S(e,t=Object.assign({compare:O,comparable:x},t));return function(e,t,n){return l(r,e,t,n)}}function O(e,t){if(b(e,t))return 0;if(typeof e==typeof t){if(e>t)return 1;if(e<t)return-1}}function x(e){return e instanceof Date?e.getTime():o(e)?e.map(x):e&&"function"==typeof e.toJSON?e.toJSON():e}},738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},568:(e,t,r)=>{var n,o,i,a,u;n=r(12),o=r(487).utf8,i=r(738),a=r(487).bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,c=1732584193,f=-271733879,l=-1732584194,p=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var d=u._ff,v=u._gg,y=u._hh,m=u._ii;for(h=0;h<r.length;h+=16){var g=c,b=f,w=l,S=p;c=d(c,f,l,p,r[h+0],7,-680876936),p=d(p,c,f,l,r[h+1],12,-389564586),l=d(l,p,c,f,r[h+2],17,606105819),f=d(f,l,p,c,r[h+3],22,-1044525330),c=d(c,f,l,p,r[h+4],7,-176418897),p=d(p,c,f,l,r[h+5],12,1200080426),l=d(l,p,c,f,r[h+6],17,-1473231341),f=d(f,l,p,c,r[h+7],22,-45705983),c=d(c,f,l,p,r[h+8],7,1770035416),p=d(p,c,f,l,r[h+9],12,-1958414417),l=d(l,p,c,f,r[h+10],17,-42063),f=d(f,l,p,c,r[h+11],22,-1990404162),c=d(c,f,l,p,r[h+12],7,1804603682),p=d(p,c,f,l,r[h+13],12,-40341101),l=d(l,p,c,f,r[h+14],17,-1502002290),c=v(c,f=d(f,l,p,c,r[h+15],22,1236535329),l,p,r[h+1],5,-165796510),p=v(p,c,f,l,r[h+6],9,-1069501632),l=v(l,p,c,f,r[h+11],14,643717713),f=v(f,l,p,c,r[h+0],20,-373897302),c=v(c,f,l,p,r[h+5],5,-701558691),p=v(p,c,f,l,r[h+10],9,38016083),l=v(l,p,c,f,r[h+15],14,-660478335),f=v(f,l,p,c,r[h+4],20,-405537848),c=v(c,f,l,p,r[h+9],5,568446438),p=v(p,c,f,l,r[h+14],9,-1019803690),l=v(l,p,c,f,r[h+3],14,-187363961),f=v(f,l,p,c,r[h+8],20,1163531501),c=v(c,f,l,p,r[h+13],5,-1444681467),p=v(p,c,f,l,r[h+2],9,-51403784),l=v(l,p,c,f,r[h+7],14,1735328473),c=y(c,f=v(f,l,p,c,r[h+12],20,-1926607734),l,p,r[h+5],4,-378558),p=y(p,c,f,l,r[h+8],11,-2022574463),l=y(l,p,c,f,r[h+11],16,1839030562),f=y(f,l,p,c,r[h+14],23,-35309556),c=y(c,f,l,p,r[h+1],4,-1530992060),p=y(p,c,f,l,r[h+4],11,1272893353),l=y(l,p,c,f,r[h+7],16,-155497632),f=y(f,l,p,c,r[h+10],23,-1094730640),c=y(c,f,l,p,r[h+13],4,681279174),p=y(p,c,f,l,r[h+0],11,-358537222),l=y(l,p,c,f,r[h+3],16,-722521979),f=y(f,l,p,c,r[h+6],23,76029189),c=y(c,f,l,p,r[h+9],4,-640364487),p=y(p,c,f,l,r[h+12],11,-421815835),l=y(l,p,c,f,r[h+15],16,530742520),c=m(c,f=y(f,l,p,c,r[h+2],23,-995338651),l,p,r[h+0],6,-198630844),p=m(p,c,f,l,r[h+7],10,1126891415),l=m(l,p,c,f,r[h+14],15,-1416354905),f=m(f,l,p,c,r[h+5],21,-57434055),c=m(c,f,l,p,r[h+12],6,1700485571),p=m(p,c,f,l,r[h+3],10,-1894986606),l=m(l,p,c,f,r[h+10],15,-1051523),f=m(f,l,p,c,r[h+1],21,-2054922799),c=m(c,f,l,p,r[h+8],6,1873313359),p=m(p,c,f,l,r[h+15],10,-30611744),l=m(l,p,c,f,r[h+6],15,-1560198380),f=m(f,l,p,c,r[h+13],21,1309151649),c=m(c,f,l,p,r[h+4],6,-145523070),p=m(p,c,f,l,r[h+11],10,-1120210379),l=m(l,p,c,f,r[h+2],15,718787259),f=m(f,l,p,c,r[h+9],21,-343485551),c=c+g>>>0,f=f+b>>>0,l=l+w>>>0,p=p+S>>>0}return n.endian([c,f,l,p])})._ff=function(e,t,r,n,o,i,a){var u=e+(t&r|~t&n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._gg=function(e,t,r,n,o,i,a){var u=e+(t&n|r&~n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._hh=function(e,t,r,n,o,i,a){var u=e+(t^r^n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._ii=function(e,t,r,n,o,i,a){var u=e+(r^(t|~n))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(u(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},824:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,a){a=a||{};var u,s,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&isFinite(e))return a.long?(u=e,(s=Math.abs(u))>=o?i(u,s,o,"day"):s>=n?i(u,s,n,"hour"):s>=r?i(u,s,r,"minute"):s>=t?i(u,s,t,"second"):u+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},670:(e,t,r)=>{"use strict";e.exports=r(607)},829:(e,t,r)=>{"use strict";var n,o,i,a=r(946),u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function s(){i=!1}function c(e){if(e){if(e!==n){if(e.length!==u.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,s()}}else n!==u&&(n=u,s())}function f(){return i||(i=function(){n||c(u);for(var e,t=n.split(""),r=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||u},characters:function(e){return c(e),n},seed:function(e){a.seed(e),o!==e&&(s(),o=e)},lookup:function(e){return f()[e]},shuffled:f}},480:(e,t,r)=>{"use strict";var n,o,i=r(416);r(829),e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=i(7),t+=i(e),n>0&&(t+=i(n)),t+i(r)}},416:(e,t,r)=>{"use strict";var n=r(829),o=r(766),i=r(296);e.exports=function(e){for(var t,r=0,a="";!t;)a+=i(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},607:(e,t,r)=>{"use strict";var n=r(829),o=r(480),i=r(82),a=r(636)||0;function u(){return o(a)}e.exports=u,e.exports.generate=u,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=i},82:(e,t,r)=>{"use strict";var n=r(829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},766:e=>{"use strict";var t,r="object"==typeof window&&(window.crypto||window.msCrypto);t=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},946:e=>{"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},636:e=>{"use strict";e.exports=0},296:e=>{e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*r/t.length),i="";;)for(var a=e(o),u=o;u--;)if((i+=t[a[u]&n]||"").length===+r)return i}},530:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>fe,$Size:()=>I,$all:()=>oe,$and:()=>ne,$elemMatch:()=>H,$eq:()=>U,$exists:()=>X,$gt:()=>Y,$gte:()=>G,$in:()=>z,$lt:()=>K,$lte:()=>W,$mod:()=>Z,$ne:()=>D,$nin:()=>V,$nor:()=>L,$not:()=>te,$options:()=>ae,$or:()=>B,$regex:()=>ee,$size:()=>ie,$type:()=>re,$where:()=>ue,EqualsOperation:()=>w,createDefaultQueryOperation:()=>ce,createEqualsOperation:()=>S,createOperationTester:()=>R,createQueryOperation:()=>j,createQueryTester:()=>N});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(e){var t="[object "+e+"]";return function(e){return a(e)===t}},a=function(e){return Object.prototype.toString.call(e)},u=function(e){return e instanceof Date?e.getTime():s(e)?e.map(u):e&&"function"==typeof e.toJSON?e.toJSON():e},s=i("Array"),c=i("Object"),f=i("Function"),l=function(e,t){if(null==e&&e==t)return!0;if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(s(e)){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(!l(e[r],t[r]))return!1;return!0}if(c(e)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(!l(e[o],t[o]))return!1;return!0}return!1},p=function(e,t,r,n,o,i){var a=t[n];if(s(e)&&isNaN(Number(a)))for(var u=0,c=e.length;u<c;u++)if(!p(e[u],t,r,n,u,e))return!1;return n===t.length||null==e?r(e,o,i):p(e[a],t,r,n+1,a,e)},h=function(){function e(e,t,r){this.params=e,this.owneryQuery=t,this.options=r,this.init()}return e.prototype.init=function(){},e.prototype.reset=function(){this.done=!1,this.keep=!1},e}(),d=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n)||this;return i.name=o,i}return o(t,e),t}(h),v=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n)||this;return i.children=o,i}return o(t,e),t.prototype.reset=function(){this.keep=!1,this.done=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].reset()},t.prototype.childrenNext=function(e,t,r){for(var n=!0,o=!0,i=0,a=this.children.length;i<a;i++){var u=this.children[i];if(u.next(e,t,r),u.keep||(o=!1),u.done){if(!u.keep)break}else n=!1}this.done=n,this.keep=o},t}(h),y=function(e){function t(t,r,n,o,i){var a=e.call(this,t,r,n,o)||this;return a.name=i,a}return o(t,e),t}(v),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.next=function(e,t,r){this.childrenNext(e,t,r)},t}(v),g=function(e){function t(t,r,n,o,i){var a=e.call(this,r,n,o,i)||this;return a.keyPath=t,a._nextNestedValue=function(e,t,r){return a.childrenNext(e,t,r),!a.done},a}return o(t,e),t.prototype.next=function(e,t,r){p(e,this.keyPath,this._nextNestedValue,0,t,r)},t}(v),b=function(e,t){if(e instanceof Function)return e;if(e instanceof RegExp)return function(t){var r="string"==typeof t&&e.test(t);return e.lastIndex=0,r};var r=u(e);return function(e){return t(r,u(e))}},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){this._test=b(this.params,this.options.compare)},t.prototype.next=function(e,t,r){Array.isArray(r)&&!r.hasOwnProperty(t)||this._test(e,t,r)&&(this.done=!0,this.keep=!0)},t}(h),S=function(e,t,r){return new w(e,t,r)},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.next=function(){this.done=!0,this.keep=!1},t}(h),O=function(e){return t=function(t,r,n){var o=typeof u(t),i=e(t);return new w((function(e){return typeof u(e)===o&&i(e)}),r,n)},function(e,r,n,o){return null==e?new _(e,r,n):t(e,r,n)};var t},x=function(e,t,r,n){var o=n.operations[e];if(!o)throw new Error("Unsupported operation: "+e);return o(t,r,n,e)},k=function(e){for(var t in e)if("$"===t.charAt(0))return!0;return!1},A=function(e,t,r,n){if(k(t)){var o=C(t,n),i=o[0];if(o[1].length)throw new Error("Property queries must contain only operations, or exact objects.");return new g(e,t,r,n,i)}return new g(e,t,r,n,[new w(t,r,n)])},j=function(e,t,r){void 0===t&&(t=null);var n=void 0===r?{}:r,o=n.compare,i=n.operations,a={compare:o||l,operations:Object.assign({},i||{})},u=C(e,a),s=u[0],c=u[1],f=[];return s.length&&f.push(new g([],e,t,a,s)),f.push.apply(f,c),1===f.length?f[0]:new m(e,t,a,f)},C=function(e,t){var r,n=[],o=[];if(!(r=e)||r.constructor!==Object&&r.constructor!==Array&&"function Object() { [native code] }"!==r.constructor.toString()&&"function Array() { [native code] }"!==r.constructor.toString()||r.toJSON)return n.push(new w(e,e,t)),[n,o];for(var i in e)if("$"===i.charAt(0)){var a=x(i,e[i],e,t);null!=a&&n.push(a)}else o.push(A(i.split("."),e[i],e,t));return[n,o]},R=function(e){return function(t,r,n){return e.reset(),e.next(t,r,n),e.keep}},N=function(e,t){return void 0===t&&(t={}),R(j(e,null,t))},P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){this._test=b(this.params,this.options.compare)},t.prototype.reset=function(){e.prototype.reset.call(this),this.keep=!0},t.prototype.next=function(e){this._test(e)&&(this.done=!0,this.keep=!1)},t}(d),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){this._queryOperation=j(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){e.prototype.reset.call(this),this._queryOperation.reset()},t.prototype.next=function(e){if(s(e)){for(var t=0,r=e.length;t<r;t++)this._queryOperation.reset(),this._queryOperation.next(e[t],t,e),this.keep=this.keep||this._queryOperation.keep;this.done=!0}else this.done=!1,this.keep=!1},t}(d),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){this._queryOperation=j(this.params,this.owneryQuery,this.options)},t.prototype.reset=function(){this._queryOperation.reset()},t.prototype.next=function(e,t,r){this._queryOperation.next(e,t,r),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},t}(d),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){},t.prototype.next=function(e){s(e)&&e.length===this.params&&(this.done=!0,this.keep=!0)},t}(d),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){var e=this;this._ops=this.params.map((function(t){return j(t,null,e.options)}))},t.prototype.reset=function(){this.done=!1,this.keep=!1;for(var e=0,t=this._ops.length;e<t;e++)this._ops[e].reset()},t.prototype.next=function(e,t,r){for(var n=!1,o=!1,i=0,a=this._ops.length;i<a;i++){var u=this._ops[i];if(u.next(e,t,r),u.keep){n=!0,o=u.keep;break}}this.keep=o,this.done=n},t}(d),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.next=function(t,r,n){e.prototype.next.call(this,t,r,n),this.keep=!this.keep},t}(F),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){var e=this;this._testers=this.params.map((function(t){if(k(t))throw new Error("cannot nest $ under "+e.constructor.name.toLowerCase());return b(t,e.options.compare)}))},t.prototype.next=function(e,t,r){for(var n=!1,o=!1,i=0,a=this._testers.length;i<a;i++)if((0,this._testers[i])(e)){n=!0,o=!0;break}this.keep=o,this.done=n},t}(d),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.next=function(t,r,n){e.prototype.next.call(this,t,r,n),this.keep=!this.keep},t}(M),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.next=function(e,t,r){r.hasOwnProperty(t)===this.params&&(this.done=!0,this.keep=!0)},t}(d),q=function(e){function t(t,r,n,o){return e.call(this,t,r,n,t.map((function(e){return j(e,r,n)})),o)||this}return o(t,e),t.prototype.next=function(e,t,r){this.childrenNext(e,t,r)},t}(y),U=function(e,t,r){return new w(e,t,r)},D=function(e,t,r,n){return new P(e,t,r,n)},B=function(e,t,r,n){return new F(e,t,r,n)},L=function(e,t,r,n){return new T(e,t,r,n)},H=function(e,t,r,n){return new E(e,t,r,n)},V=function(e,t,r,n){return new J(e,t,r,n)},z=function(e,t,r,n){return new M(e,t,r,n)},K=O((function(e){return function(t){return t<e}})),W=O((function(e){return function(t){return t<=e}})),Y=O((function(e){return function(t){return t>e}})),G=O((function(e){return function(t){return t>=e}})),Z=function(e,t,r){var n=e[0],o=e[1];return new w((function(e){return u(e)%n===o}),t,r)},X=function(e,t,r,n){return new Q(e,t,r,n)},ee=function(e,t,r){return new w(new RegExp(e,t.$options),t,r)},te=function(e,t,r,n){return new $(e,t,r,n)},re=function(e,t,r){return new w((function(t){return null!=t&&(t instanceof e||t.constructor===e)}),t,r)},ne=function(e,t,r,n){return new q(e,t,r,n)},oe=ne,ie=function(e,t,r){return new I(e,t,r,"$size")},ae=function(){return null},ue=function(e,t,r){var n;if(f(e))n=e;else{if(process.env.CSP_ENABLED)throw new Error('In CSP mode, sift does not support strings in "$where" condition');n=new Function("obj","return "+e)}return new w((function(e){return n.bind(e)(e)}),t,r)},se=Object.freeze({__proto__:null,$Size:I,$eq:U,$ne:D,$or:B,$nor:L,$elemMatch:H,$nin:V,$in:z,$lt:K,$lte:W,$gt:Y,$gte:G,$mod:Z,$exists:X,$regex:ee,$not:te,$type:re,$and:ne,$all:oe,$size:ie,$options:ae,$where:ue}),ce=function(e,t,r){var n=void 0===r?{}:r,o=n.compare,i=n.operations;return j(e,t,{compare:o,operations:Object.assign({},se,i||{})})};const fe=function(e,t){void 0===t&&(t={});var r=ce(e,null,t);return R(r)}},614:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NIL:()=>N,parse:()=>y,stringify:()=>f,v1:()=>v,v3:()=>k,v4:()=>A,v5:()=>R,validate:()=>u,version:()=>P});var o=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&a.test(e)};for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r};var l,p,h=0,d=0;const v=function(e,t,r){var n=t&&r||0,o=t||new Array(16),a=(e=e||{}).node||l,u=void 0!==e.clockseq?e.clockseq:p;if(null==a||null==u){var s=e.random||(e.rng||i)();null==a&&(a=l=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==u&&(u=p=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:d+1,y=c-h+(v-d)/1e4;if(y<0&&void 0===e.clockseq&&(u=u+1&16383),(y<0||c>h)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,d=v,p=u;var m=(1e4*(268435455&(c+=122192928e5))+v)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;var g=c/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=u>>>8|128,o[n++]=255&u;for(var b=0;b<6;++b)o[n+b]=a[b];return t||f(o)},y=function(e){if(!u(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function m(e,t,r){function n(e,n,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var u=0;u<16;++u)o[i+u]=a[u];return o}return f(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function g(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,o,i){return b((a=b(b(t,e),b(n,i)))<<(u=o)|a>>>32-u,r);var a,u}function S(e,t,r,n,o,i,a){return w(t&r|~t&n,e,t,o,i,a)}function _(e,t,r,n,o,i,a){return w(t&n|r&~n,e,t,o,i,a)}function O(e,t,r,n,o,i,a){return w(t^r^n,e,t,o,i,a)}function x(e,t,r,n,o,i,a){return w(r^(t|~n),e,t,o,i,a)}const k=m("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",o=0;o<r;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var u=r,s=n,c=o,f=i;r=S(r,n,o,i,e[a],7,-680876936),i=S(i,r,n,o,e[a+1],12,-389564586),o=S(o,i,r,n,e[a+2],17,606105819),n=S(n,o,i,r,e[a+3],22,-1044525330),r=S(r,n,o,i,e[a+4],7,-176418897),i=S(i,r,n,o,e[a+5],12,1200080426),o=S(o,i,r,n,e[a+6],17,-1473231341),n=S(n,o,i,r,e[a+7],22,-45705983),r=S(r,n,o,i,e[a+8],7,1770035416),i=S(i,r,n,o,e[a+9],12,-1958414417),o=S(o,i,r,n,e[a+10],17,-42063),n=S(n,o,i,r,e[a+11],22,-1990404162),r=S(r,n,o,i,e[a+12],7,1804603682),i=S(i,r,n,o,e[a+13],12,-40341101),o=S(o,i,r,n,e[a+14],17,-1502002290),r=_(r,n=S(n,o,i,r,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=_(i,r,n,o,e[a+6],9,-1069501632),o=_(o,i,r,n,e[a+11],14,643717713),n=_(n,o,i,r,e[a],20,-373897302),r=_(r,n,o,i,e[a+5],5,-701558691),i=_(i,r,n,o,e[a+10],9,38016083),o=_(o,i,r,n,e[a+15],14,-660478335),n=_(n,o,i,r,e[a+4],20,-405537848),r=_(r,n,o,i,e[a+9],5,568446438),i=_(i,r,n,o,e[a+14],9,-1019803690),o=_(o,i,r,n,e[a+3],14,-187363961),n=_(n,o,i,r,e[a+8],20,1163531501),r=_(r,n,o,i,e[a+13],5,-1444681467),i=_(i,r,n,o,e[a+2],9,-51403784),o=_(o,i,r,n,e[a+7],14,1735328473),r=O(r,n=_(n,o,i,r,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=O(i,r,n,o,e[a+8],11,-2022574463),o=O(o,i,r,n,e[a+11],16,1839030562),n=O(n,o,i,r,e[a+14],23,-35309556),r=O(r,n,o,i,e[a+1],4,-1530992060),i=O(i,r,n,o,e[a+4],11,1272893353),o=O(o,i,r,n,e[a+7],16,-155497632),n=O(n,o,i,r,e[a+10],23,-1094730640),r=O(r,n,o,i,e[a+13],4,681279174),i=O(i,r,n,o,e[a],11,-358537222),o=O(o,i,r,n,e[a+3],16,-722521979),n=O(n,o,i,r,e[a+6],23,76029189),r=O(r,n,o,i,e[a+9],4,-640364487),i=O(i,r,n,o,e[a+12],11,-421815835),o=O(o,i,r,n,e[a+15],16,530742520),r=x(r,n=O(n,o,i,r,e[a+2],23,-995338651),o,i,e[a],6,-198630844),i=x(i,r,n,o,e[a+7],10,1126891415),o=x(o,i,r,n,e[a+14],15,-1416354905),n=x(n,o,i,r,e[a+5],21,-57434055),r=x(r,n,o,i,e[a+12],6,1700485571),i=x(i,r,n,o,e[a+3],10,-1894986606),o=x(o,i,r,n,e[a+10],15,-1051523),n=x(n,o,i,r,e[a+1],21,-2054922799),r=x(r,n,o,i,e[a+8],6,1873313359),i=x(i,r,n,o,e[a+15],10,-30611744),o=x(o,i,r,n,e[a+6],15,-1560198380),n=x(n,o,i,r,e[a+13],21,1309151649),r=x(r,n,o,i,e[a+4],6,-145523070),i=x(i,r,n,o,e[a+11],10,-1120210379),o=x(o,i,r,n,e[a+2],15,718787259),n=x(n,o,i,r,e[a+9],21,-343485551),r=b(r,u),n=b(n,s),o=b(o,c),i=b(i,f)}return[r,n,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(g(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))})),A=function(e,t,r){var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return f(n)};function j(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function C(e,t){return e<<t|e>>>32-t}const R=m("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var o=0;o<n.length;++o)e.push(n.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),u=new Array(a),s=0;s<a;++s){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=e[64*s+4*f]<<24|e[64*s+4*f+1]<<16|e[64*s+4*f+2]<<8|e[64*s+4*f+3];u[s]=c}u[a-1][14]=8*(e.length-1)/Math.pow(2,32),u[a-1][14]=Math.floor(u[a-1][14]),u[a-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<a;++l){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=u[l][h];for(var d=16;d<80;++d)p[d]=C(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var v=r[0],y=r[1],m=r[2],g=r[3],b=r[4],w=0;w<80;++w){var S=Math.floor(w/20),_=C(v,5)+j(S,y,m,g)+b+t[S]+p[w]>>>0;b=g,g=m,m=C(y,30)>>>0,y=v,v=_}r[0]=r[0]+v>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),N="00000000-0000-0000-0000-000000000000",P=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(613)})();